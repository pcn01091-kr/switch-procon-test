/* GamepadViewer - Soft Dark Pills + Circles (LB/RB, A/B, Left Stick)
   - Transparent background
   - Bottom-right
   - Only shows: LB/RB, A/B, Left stick
*/

html, body {
  background: transparent !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
}

/* 전체 오버레이 위치/크기 */
.controller.custom{
  position: fixed;
  right: 46px;
  bottom: 46px;
  width: 520px;
  height: 240px;
  background: transparent !important;
}

/* ---- 안전장치: disconnected여도 숨지 않게 ---- */
.custom.disconnected,
.custom.disconnected *{
  opacity: 1 !important;
  visibility: visible !important;
}

/* 기본적으로 다 숨기고 필요한 것만 켬 */
.custom * { display: none; }

.custom .bumpers,
.custom .bumper,
.custom .abxy,
.custom .button,
.custom .sticks,
.custom .stick { display: block; }

/* =========================
   공통: “둥근 검은 버튼” 느낌
   ========================= */
:root{
  --dark: rgba(12,12,12,0.92);
  --dark2: rgba(25,25,25,0.92);
  --text: rgba(255,255,255,0.90);
  --shadow: 0 10px 20px rgba(0,0,0,0.35);
  --shadow2: 0 2px 0 rgba(255,255,255,0.06) inset;
}

.custom .button,
.custom .bumper{
  position: absolute;
  background: linear-gradient(180deg, var(--dark2), var(--dark));
  box-shadow: var(--shadow), var(--shadow2);
  border: 0;
  transform: translateZ(0);
}

/* 눌렸을 때(밝아짐). 원하면 빨간 불로 바꿔줄 수도 있어 */
.custom .button.pressed,
.custom .bumper.pressed{
  filter: brightness(1.18);
  box-shadow: 0 12px 24px rgba(0,0,0,0.45), 0 0 0 2px rgba(255,255,255,0.06) inset;
}

/* 글자 스타일 */
.custom .button::after,
.custom .bumper::after{
  content: "";
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font: 800 34px/1 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--text);
  text-shadow: 0 2px 0 rgba(0,0,0,0.35);
}

/* =========================
   LB / RB (알약)
   ========================= */
.custom .bumpers{
  position: absolute;
  left: 0;
  top: 0;
  width: 520px;
  height: 90px;
}

.custom .bumper.left{
  left: 60px;
  top: 16px;
  width: 190px;
  height: 58px;
  border-radius: 999px;
}
.custom .bumper.left::after{ content: "L"; }

.custom .bumper.right{
  left: 270px;
  top: 16px;
  width: 190px;
  height: 58px;
  border-radius: 999px;
}
.custom .bumper.right::after{ content: "R"; }

/* =========================
   A / B (동그라미)
   ========================= */
.custom .abxy{
  position: absolute;
  left: 0;
  top: 0;
  width: 520px;
  height: 240px;
}

/* X/Y는 완전 숨김 */
.custom .abxy .x,
.custom .abxy .y{ display: none !important; }

/* 이미지처럼 B가 중앙쪽, A가 오른쪽 위 느낌 */
.custom .button.b{
  left: 330px;
  top: 136px;
  width: 86px;
  height: 86px;
  border-radius: 999px;
}
.custom .button.b::after{ content: "B"; }

.custom .button.a{
  left: 410px;
  top: 96px;
  width: 86px;
  height: 86px;
  border-radius: 999px;
}
.custom .button.a::after{ content: "A"; }

/* =========================
   Left Stick (큰 회색 바탕 + 검은 스틱)
   ========================= */
.custom .sticks{
  position: absolute;
  left: 40px;
  top: 88px;
  width: 220px;
  height: 220px;
}

/* 오른쪽 스틱 숨김 */
.custom .stick.right{ display: none !important; }

/* 큰 회색 바탕 원 */
.custom .sticks::before{
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  width: 190px;
  height: 190px;
  border-radius: 999px;
  background: rgba(210,210,210,0.95);
  box-shadow: 0 10px 18px rgba(0,0,0,0.28);
}

/* 움직이는 검은 스틱 원(좌스틱) */
.custom .stick.left{
  position: absolute;
  left: 95px;
  top: 95px;
  width: 104px;
  height: 104px;
  margin-left: -52px;
  margin-top: -52px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(25,25,25,0.95), rgba(8,8,8,0.95));
  box-shadow: 0 14px 22px rgba(0,0,0,0.40), 0 2px 0 rgba(255,255,255,0.06) inset;
}

/* (선택) 스틱 클릭 시 살짝 강조 */
.custom .stick.pressed.left{
  filter: brightness(1.15);
}
